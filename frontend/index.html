<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Management System</title>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link rel="stylesheet" href="css/index.css">
</head>
<body>
    <div class="header">
        <button class="mobile-menu-toggle" onclick="toggleMobileMenu()">
            <i data-lucide="menu" width="24" height="24"></i>
        </button>
        <h1 class="hide">
            <i data-lucide="package" width="24" height="24"></i>
            Product Management System
        </h1>
        <h1 class="display">
            <i data-lucide="package" width="24" height="24"></i>
        </h1>
        <div class="header-right">
            <div id="userInfo" class="user-info"></div>
            <div id="authButtons"></div>
        </div>
    </div>

    <div class="container">
        <div class="sidebar" id="sidebar">
            <h2>
                <i data-lucide="layers" width="16" height="16"></i>
                Categories
            </h2>
            <ul id="categoryList" class="category-list">
                <li class="loading">
                    <i data-lucide="loader-2" width="16" height="16" class="animate-spin"></i>
                    Loading...
                </li>
            </ul>
        </div>

        <div class="main-content">
            <div id="adminPanel" class="admin-panel">
                <div class="admin-buttons">
                    <button class="btn btn-primary" onclick="window.location.href='admin.html'">
                        <i data-lucide="users" width="16" height="16"></i>
                        Manage Users
                    </button>
                    <button class="btn btn-primary" onclick="showCategoryForm()">
                        <i data-lucide="folder-plus" width="16" height="16"></i>
                        Add Category
                    </button>
                    <button class="btn btn-primary" onclick="showProductForm()">
                        <i data-lucide="package-plus" width="16" height="16"></i>
                        Add Product
                    </button>
                </div>
            </div>

            <div id="productGrid" class="product-grid">
                <div class="empty-state">
                    <i data-lucide="package-open" width="64" height="64" class="empty-state-icon"></i>
                    <p>Select a category to view products</p>
                    <small>Choose a category from the sidebar to get started</small>
                </div>
            </div>
        </div>
    </div>
    <!-- Category Modal -->
<div id="categoryModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2>
                <i data-lucide="folder-plus" width="20" height="20"></i>
                Add New Category
            </h2>
            <button class="close-modal" onclick="closeCategoryModal()">
                <i data-lucide="x" width="20" height="20"></i>
            </button>
        </div>
        
        <div id="categoryMessage" class="message"></div>
        
        <form id="categoryForm">
            <div class="form-group">
                <label for="categoryName">
                    <i data-lucide="folder" width="14" height="14" style="display: inline; vertical-align: middle;"></i>
                    Category Name *
                </label>
                <input type="text" id="categoryName" required placeholder="Enter category name">
            </div>
            
            <div class="form-group">
                <label for="categoryDescription">
                    <i data-lucide="file-text" width="14" height="14" style="display: inline; vertical-align: middle;"></i>
                    Description
                </label>
                <textarea id="categoryDescription" placeholder="Enter category description (optional)"></textarea>
            </div>
            
            <div class="form-loading" id="categoryLoading">
                <i data-lucide="loader-2" width="16" height="16" class="animate-spin"></i>
                Saving category...
            </div>
            
            <div class="form-actions">
                <button type="submit" class="btn btn-primary">
                    <i data-lucide="check" width="16" height="16"></i>
                    Save Category
                </button>
                <button type="button" class="btn btn-secondary" onclick="closeCategoryModal()">
                    <i data-lucide="x" width="16" height="16"></i>
                    Cancel
                </button>
            </div>
        </form>
    </div>
</div>

<!-- Product Modal -->
<div id="productModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2>
                <i data-lucide="package-plus" width="20" height="20"></i>
                Add New Product
            </h2>
            <button class="close-modal" onclick="closeProductModal()">
                <i data-lucide="x" width="20" height="20"></i>
            </button>
        </div>
        
        <div id="productMessage" class="message"></div>
        
        <form id="productForm">
            <div class="form-group">
                <label for="productName">
                    <i data-lucide="package" width="14" height="14" style="display: inline; vertical-align: middle;"></i>
                    Product Name *
                </label>
                <input type="text" id="productName" required placeholder="Enter product name">
            </div>
            
            <div class="form-group">
                <label for="productCategory">
                    <i data-lucide="layers" width="14" height="14" style="display: inline; vertical-align: middle;"></i>
                    Category *
                </label>
                <select id="productCategory" required>
                    <option value="">Select a category</option>
                    <!-- Categories appear dynamically -->
                </select>
            </div>
            
            <div class="form-group">
                <label for="productSKU">
                    <i data-lucide="hash" width="14" height="14" style="display: inline; vertical-align: middle;"></i>
                    SKU (Stock Keeping Unit) *
                </label>
                <input type="text" id="productSKU" required placeholder="Enter SKU">
            </div>
            
            <div class="form-group">
                <label for="productPrice">
                    <i data-lucide="dollar-sign" width="14" height="14" style="display: inline; vertical-align: middle;"></i>
                    Price *
                </label>
                <input type="number" id="productPrice" required placeholder="0.00" step="0.01" min="0">
            </div>
            
            <div class="form-group">
                <label for="productDescription">
                    <i data-lucide="file-text" width="14" height="14" style="display: inline; vertical-align: middle;"></i>
                    Description
                </label>
                <textarea id="productDescription" placeholder="Enter product description (optional)"></textarea>
            </div>
            
            <div class="form-group">
                <label for="productImage">
                    <i data-lucide="image" width="14" height="14" style="display: inline; vertical-align: middle;"></i>
                    Product Image
                </label>
                <div class="file-input-wrapper">
                    <input type="file" id="productImage" accept="image/*">
                    <label for="productImage" class="file-input-label">
                        <i data-lucide="upload" width="16" height="16"></i>
                        <span>Click to upload image (optional)</span>
                    </label>
                </div>
                <div id="imageFileName" class="file-name"></div>
                <small>Max file size: 5MB. Supported formats: JPG, PNG, GIF</small>
            </div>
            
            <div class="form-loading" id="productLoading">
                <i data-lucide="loader-2" width="16" height="16" class="animate-spin"></i>
                Saving product...
            </div>
            
            <div class="form-actions">
                <button type="submit" class="btn btn-primary">
                    <i data-lucide="check" width="16" height="16"></i>
                    Save Product
                </button>
                <button type="button" class="btn btn-secondary" onclick="closeProductModal()">
                    <i data-lucide="x" width="16" height="16"></i>
                    Cancel
                </button>
            </div>
        </form>
    </div>
</div>
<!-- Footer -->
<footer class="site-footer">
    <div class="footer-content">
        <div class="footer-left">
            <span class="footer-text">Product Management System Â© 2026</span>
        </div>
        <div class="footer-right">
            <span class="footer-version">v1.0.0</span>
        </div>
    </div>
</footer>
    <script>
        // Initialize Lucide icons
        lucide.createIcons();
        
        // Mobile menu toggle
        function toggleMobileMenu() {
            const sidebar = document.getElementById('sidebar');
            sidebar.classList.toggle('open');
        }
        
        // Close mobile menu when clicking outside
        document.addEventListener('click', function(event) {
            const sidebar = document.getElementById('sidebar');
            const toggle = document.querySelector('.mobile-menu-toggle');
            
            if (window.innerWidth <= 768 && sidebar.classList.contains('open')) {
                if (!sidebar.contains(event.target) && !toggle.contains(event.target)) {
                    sidebar.classList.remove('open');
                }
            }
        });
        
        // Re-initialize icons after dynamic content changes
        function refreshIcons() {
            lucide.createIcons();
        }
        
        // Example: Call this after loading categories or products
        // loadCategories().then(() => refreshIcons());
    </script>
    <script src="js/app.js"></script>
</body>
</html>