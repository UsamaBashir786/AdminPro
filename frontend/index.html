<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Management System</title>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            --background: 0 0% 100%;
            --foreground: 222.2 84% 4.9%;
            --card: 0 0% 100%;
            --card-foreground: 222.2 84% 4.9%;
            --popover: 0 0% 100%;
            --popover-foreground: 222.2 84% 4.9%;
            --primary: 222.2 47.4% 11.2%;
            --primary-foreground: 210 40% 98%;
            --secondary: 210 40% 96.1%;
            --secondary-foreground: 222.2 47.4% 11.2%;
            --muted: 210 40% 96.1%;
            --muted-foreground: 215.4 16.3% 46.9%;
            --accent: 210 40% 96.1%;
            --accent-foreground: 222.2 47.4% 11.2%;
            --destructive: 0 84.2% 60.2%;
            --destructive-foreground: 210 40% 98%;
            --border: 214.3 31.8% 91.4%;
            --input: 214.3 31.8% 91.4%;
            --ring: 222.2 84% 4.9%;
            --radius: 0.5rem;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
            background: hsl(var(--background));
            color: hsl(var(--foreground));
            line-height: 1.5;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        /* Header */
        .header {
            background: hsl(var(--card));
            border-bottom: 1px solid hsl(var(--border));
            padding: 0 1.5rem;
            height: 64px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 50;
            backdrop-filter: blur(8px);
            background: hsl(var(--background) / 0.8);
        }
        
        .header h1 {
            font-size: 1.125rem;
            font-weight: 600;
            letter-spacing: -0.025em;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }
        
        .header-right {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .user-info {
            font-size: 0.875rem;
            color: hsl(var(--muted-foreground));
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        /* Buttons */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            border-radius: var(--radius);
            font-size: 0.875rem;
            font-weight: 500;
            height: 2.5rem;
            padding: 0 1rem;
            border: none;
            cursor: pointer;
            transition: all 0.2s;
            text-decoration: none;
            white-space: nowrap;
        }
        
        .btn-primary {
            background: hsl(var(--primary));
            color: hsl(var(--primary-foreground));
        }
        
        .btn-primary:hover {
            background: hsl(var(--primary) / 0.9);
        }
        
        .btn-secondary {
            background: hsl(var(--secondary));
            color: hsl(var(--secondary-foreground));
        }
        
        .btn-secondary:hover {
            background: hsl(var(--secondary) / 0.8);
        }
        
        .btn-ghost {
            background: transparent;
            color: hsl(var(--foreground));
        }
        
        .btn-ghost:hover {
            background: hsl(var(--accent));
        }
        
        .btn-outline {
            background: transparent;
            border: 1px solid hsl(var(--border));
            color: hsl(var(--foreground));
        }
        
        .btn-outline:hover {
            background: hsl(var(--accent));
        }
        
        /* Container */
        .container {
            display: flex;
            min-height: calc(100vh - 64px);
        }
        
        /* Sidebar */
        .sidebar {
            width: 280px;
            background: hsl(var(--card));
            border-right: 1px solid hsl(var(--border));
            padding: 1.5rem;
            overflow-y: auto;
            transition: transform 0.3s ease;
        }
        
        .sidebar h2 {
            font-size: 0.875rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: hsl(var(--muted-foreground));
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .category-list {
            list-style: none;
            display: flex;
            flex-direction: column;
            gap: 0.25rem;
        }
        
        .category-item {
            padding: 0.625rem 0.75rem;
            cursor: pointer;
            border-radius: calc(var(--radius) - 2px);
            font-size: 0.875rem;
            font-weight: 500;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .category-item:hover {
            background: hsl(var(--accent));
        }
        
        .category-item.active {
            background: hsl(var(--primary));
            color: hsl(var(--primary-foreground));
        }
        
        .category-count {
            font-size: 0.75rem;
            background: hsl(var(--muted));
            color: hsl(var(--muted-foreground));
            padding: 0.125rem 0.5rem;
            border-radius: 9999px;
            font-weight: 600;
        }
        
        .category-item.active .category-count {
            background: hsl(var(--primary-foreground) / 0.2);
            color: hsl(var(--primary-foreground));
        }
        
        /* Main Content */
        .main-content {
            flex: 1;
            padding: 2rem;
            overflow-y: auto;
            max-width: 1600px;
            margin: 0 auto;
            width: 100%;
        }
        
        /* Admin Panel */
        .admin-panel {
            display: none;
            margin-bottom: 2rem;
        }
        
        .admin-panel.visible {
            display: block;
        }
        
        .admin-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
            padding: 1.5rem;
            background: hsl(var(--muted) / 0.5);
            border-radius: var(--radius);
            border: 1px solid hsl(var(--border));
        }
        
        /* Product Grid */
        .product-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 1.5rem;
        }
        
        .product-card {
            background: hsl(var(--card));
            border-radius: var(--radius);
            overflow: hidden;
            border: 1px solid hsl(var(--border));
            transition: all 0.2s;
            display: flex;
            flex-direction: column;
        }
        
        .product-card:hover {
            box-shadow: 0 4px 12px hsl(var(--foreground) / 0.1);
            transform: translateY(-2px);
        }
        
        .product-image {
            width: 100%;
            height: 220px;
            object-fit: cover;
            background: hsl(var(--muted));
            display: flex;
            align-items: center;
            justify-content: center;
            color: hsl(var(--muted-foreground));
        }
        
        .product-info {
            padding: 1.25rem;
            flex: 1;
            display: flex;
            flex-direction: column;
        }
        
        .product-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 0.5rem;
        }
        
        .product-name {
            font-size: 1rem;
            font-weight: 600;
            color: hsl(var(--foreground));
            line-height: 1.4;
        }
        
        .product-sku {
            font-size: 0.75rem;
            color: hsl(var(--muted-foreground));
            margin-bottom: 0.75rem;
            font-family: ui-monospace, monospace;
            background: hsl(var(--muted));
            padding: 0.125rem 0.5rem;
            border-radius: calc(var(--radius) - 4px);
            display: inline-block;
        }
        
        .product-description {
            font-size: 0.875rem;
            color: hsl(var(--muted-foreground));
            margin-bottom: 1rem;
            line-height: 1.6;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
            flex: 1;
        }
        
        .product-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: auto;
        }
        
        .product-price {
            font-size: 1.25rem;
            font-weight: 700;
            color: hsl(var(--foreground));
        }
        
        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 4rem 2rem;
            color: hsl(var(--muted-foreground));
        }
        
        .empty-state-icon {
            width: 64px;
            height: 64px;
            margin: 0 auto 1rem;
            opacity: 0.3;
        }
        
        .empty-state p {
            font-size: 1rem;
            margin-bottom: 0.5rem;
        }
        
        .empty-state small {
            font-size: 0.875rem;
            opacity: 0.7;
        }
        
        .loading {
            text-align: center;
            padding: 2rem;
            color: hsl(var(--muted-foreground));
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }
        
        /* Mobile Menu Toggle */
        .mobile-menu-toggle {
            display: none;
            background: transparent;
            border: none;
            cursor: pointer;
            padding: 0.5rem;
            color: hsl(var(--foreground));
        }
        h1.display{
            display: none;
        }
        @media screen and (max-width:474px){
            h1.hide{
                display: none !important;
            }
            h1.display{
                display: block !important;
            }
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .header {
                padding: 0 1rem;
            }
            
            .header h1 {
                font-size: 1rem;
            }
            
            .mobile-menu-toggle {
                display: block;
            }
            
            .sidebar {
                position: fixed;
                left: 0;
                top: 64px;
                height: calc(100vh - 64px);
                z-index: 40;
                transform: translateX(-100%);
                box-shadow: 4px 0 12px hsl(var(--foreground) / 0.1);
            }
            
            .sidebar.open {
                transform: translateX(0);
            }
            
            .main-content {
                padding: 1.5rem 1rem;
            }
            
            .product-grid {
                grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
                gap: 1rem;
            }
            
            .admin-buttons {
                flex-direction: column;
            }
            
            .user-info {
                display: none;
            }
        }
        
        @media (min-width: 769px) and (max-width: 1024px) {
            .sidebar {
                width: 240px;
            }
            
            .product-grid {
                grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
            }
        }
        
        @media (min-width: 1920px) {
            .product-grid {
                grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
                gap: 2rem;
            }
            
            .main-content {
                padding: 3rem;
            }
        }
        
        @media (min-width: 3840px) {
            .sidebar {
                width: 360px;
            }
            
            .header {
                height: 80px;
                padding: 0 3rem;
            }
            
            .header h1 {
                font-size: 1.5rem;
            }
            
            .product-grid {
                grid-template-columns: repeat(auto-fill, minmax(400px, 1fr));
                gap: 2.5rem;
            }
            
            .main-content {
                padding: 4rem;
            }
            
            .btn {
                height: 3rem;
                font-size: 1rem;
                padding: 0 1.5rem;
            }
        }
        .modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
    z-index: 1000;
    backdrop-filter: blur(4px);
    justify-content: center;
    align-items: center;
    padding: 1rem;
}

.modal.active {
    display: flex;
    animation: fadeIn 0.2s ease;
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

.modal-content {
    background: hsl(var(--card));
    border-radius: var(--radius);
    padding: 2rem;
    width: 100%;
    max-width: 500px;
    max-height: 90vh;
    overflow-y: auto;
    border: 1px solid hsl(var(--border));
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
    animation: slideUp 0.3s ease;
}

@keyframes slideUp {
    from { transform: translateY(20px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
}

.modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1.5rem;
    padding-bottom: 1rem;
    border-bottom: 1px solid hsl(var(--border));
}

.modal-header h2 {
    font-size: 1.25rem;
    font-weight: 600;
    margin: 0;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.close-modal {
    background: transparent;
    border: none;
    cursor: pointer;
    padding: 0.5rem;
    border-radius: var(--radius);
    color: hsl(var(--muted-foreground));
}

.close-modal:hover {
    background: hsl(var(--accent));
    color: hsl(var(--foreground));
}

.form-group {
    margin-bottom: 1.5rem;
}

.form-group label {
    display: block;
    margin-bottom: 0.5rem;
    font-weight: 500;
    font-size: 0.875rem;
    color: hsl(var(--foreground));
}

.form-group input,
.form-group textarea,
.form-group select {
    width: 100%;
    padding: 0.625rem 0.75rem;
    border: 1px solid hsl(var(--border));
    border-radius: var(--radius);
    font-size: 0.875rem;
    transition: all 0.2s;
    background: hsl(var(--background));
    color: hsl(var(--foreground));
    font-family: inherit;
}

.form-group input:focus,
.form-group textarea:focus,
.form-group select:focus {
    outline: none;
    border-color: hsl(var(--primary));
    box-shadow: 0 0 0 3px hsl(var(--primary) / 0.1);
}

.form-group textarea {
    min-height: 100px;
    resize: vertical;
}

.form-actions {
    display: flex;
    gap: 0.75rem;
    margin-top: 2rem;
    padding-top: 1.5rem;
    border-top: 1px solid hsl(var(--border));
}

.message {
    padding: 1rem;
    margin-bottom: 1rem;
    border-radius: var(--radius);
    display: none;
    align-items: center;
    gap: 0.75rem;
    border: 1px solid;
    animation: slideDown 0.3s ease;
}

@keyframes slideDown {
    from { transform: translateY(-10px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
}

.message.error {
    background: hsl(0 84.2% 60.2% / 0.1);
    color: hsl(0 84.2% 60.2%);
    border-color: hsl(0 84.2% 60.2% / 0.3);
}

.message.success {
    background: hsl(142.1 76.2% 36.3% / 0.1);
    color: hsl(142.1 76.2% 36.3%);
    border-color: hsl(142.1 76.2% 36.3% / 0.3);
}

/* Loading indicator */
.form-loading {
    display: none;
    align-items: center;
    gap: 0.5rem;
    color: hsl(var(--muted-foreground));
    font-size: 0.875rem;
}

.form-loading.active {
    display: flex;
}

/* File input styling */
.file-input-wrapper {
    position: relative;
    overflow: hidden;
    display: inline-block;
    width: 100%;
}

.file-input-wrapper input[type="file"] {
    position: absolute;
    left: 0;
    top: 0;
    opacity: 0;
    width: 100%;
    height: 100%;
    cursor: pointer;
}

.file-input-label {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    padding: 0.625rem 0.75rem;
    border: 2px dashed hsl(var(--border));
    border-radius: var(--radius);
    background: hsl(var(--muted) / 0.3);
    cursor: pointer;
    transition: all 0.2s;
    text-align: center;
    min-height: 44px;
}

.file-input-label:hover {
    border-color: hsl(var(--primary));
    background: hsl(var(--muted));
}

.file-input-label i {
    flex-shrink: 0;
}

.file-name {
    font-size: 0.875rem;
    color: hsl(var(--muted-foreground));
    margin-top: 0.5rem;
    word-break: break-all;
}

/* Responsive modal adjustments */
@media (max-width: 768px) {
    .modal {
        padding: 0.5rem;
    }
    
    .modal-content {
        padding: 1.5rem;
        max-height: 85vh;
    }
    
    .form-actions {
        flex-direction: column;
    }
    
    .form-actions .btn {
        width: 100%;
    }
}
    </style>
</head>
<body>
    <div class="header">
        <button class="mobile-menu-toggle" onclick="toggleMobileMenu()">
            <i data-lucide="menu" width="24" height="24"></i>
        </button>
        <h1 class="hide">
            <i data-lucide="package" width="24" height="24"></i>
            Product Management System
        </h1>
        <h1 class="display">
            <i data-lucide="package" width="24" height="24"></i>
        </h1>
        <div class="header-right">
            <div id="userInfo" class="user-info"></div>
            <div id="authButtons"></div>
        </div>
    </div>

    <div class="container">
        <div class="sidebar" id="sidebar">
            <h2>
                <i data-lucide="layers" width="16" height="16"></i>
                Categories
            </h2>
            <ul id="categoryList" class="category-list">
                <li class="loading">
                    <i data-lucide="loader-2" width="16" height="16" class="animate-spin"></i>
                    Loading...
                </li>
            </ul>
        </div>

        <div class="main-content">
            <div id="adminPanel" class="admin-panel">
                <div class="admin-buttons">
                    <button class="btn btn-primary" onclick="window.location.href='admin.html'">
                        <i data-lucide="users" width="16" height="16"></i>
                        Manage Users
                    </button>
                    <button class="btn btn-primary" onclick="showCategoryForm()">
                        <i data-lucide="folder-plus" width="16" height="16"></i>
                        Add Category
                    </button>
                    <button class="btn btn-primary" onclick="showProductForm()">
                        <i data-lucide="package-plus" width="16" height="16"></i>
                        Add Product
                    </button>
                </div>
            </div>

            <div id="productGrid" class="product-grid">
                <div class="empty-state">
                    <i data-lucide="package-open" width="64" height="64" class="empty-state-icon"></i>
                    <p>Select a category to view products</p>
                    <small>Choose a category from the sidebar to get started</small>
                </div>
            </div>
        </div>
    </div>
    <!-- Category Modal -->
<div id="categoryModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2>
                <i data-lucide="folder-plus" width="20" height="20"></i>
                Add New Category
            </h2>
            <button class="close-modal" onclick="closeCategoryModal()">
                <i data-lucide="x" width="20" height="20"></i>
            </button>
        </div>
        
        <div id="categoryMessage" class="message"></div>
        
        <form id="categoryForm">
            <div class="form-group">
                <label for="categoryName">
                    <i data-lucide="folder" width="14" height="14" style="display: inline; vertical-align: middle;"></i>
                    Category Name *
                </label>
                <input type="text" id="categoryName" required placeholder="Enter category name">
            </div>
            
            <div class="form-group">
                <label for="categoryDescription">
                    <i data-lucide="file-text" width="14" height="14" style="display: inline; vertical-align: middle;"></i>
                    Description
                </label>
                <textarea id="categoryDescription" placeholder="Enter category description (optional)"></textarea>
            </div>
            
            <div class="form-loading" id="categoryLoading">
                <i data-lucide="loader-2" width="16" height="16" class="animate-spin"></i>
                Saving category...
            </div>
            
            <div class="form-actions">
                <button type="submit" class="btn btn-primary">
                    <i data-lucide="check" width="16" height="16"></i>
                    Save Category
                </button>
                <button type="button" class="btn btn-secondary" onclick="closeCategoryModal()">
                    <i data-lucide="x" width="16" height="16"></i>
                    Cancel
                </button>
            </div>
        </form>
    </div>
</div>

<!-- Product Modal -->
<div id="productModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2>
                <i data-lucide="package-plus" width="20" height="20"></i>
                Add New Product
            </h2>
            <button class="close-modal" onclick="closeProductModal()">
                <i data-lucide="x" width="20" height="20"></i>
            </button>
        </div>
        
        <div id="productMessage" class="message"></div>
        
        <form id="productForm">
            <div class="form-group">
                <label for="productName">
                    <i data-lucide="package" width="14" height="14" style="display: inline; vertical-align: middle;"></i>
                    Product Name *
                </label>
                <input type="text" id="productName" required placeholder="Enter product name">
            </div>
            
            <div class="form-group">
                <label for="productCategory">
                    <i data-lucide="layers" width="14" height="14" style="display: inline; vertical-align: middle;"></i>
                    Category *
                </label>
                <select id="productCategory" required>
                    <option value="">Select a category</option>
                    <!-- Categories will be populated dynamically -->
                </select>
            </div>
            
            <div class="form-group">
                <label for="productSKU">
                    <i data-lucide="hash" width="14" height="14" style="display: inline; vertical-align: middle;"></i>
                    SKU (Stock Keeping Unit) *
                </label>
                <input type="text" id="productSKU" required placeholder="Enter SKU">
            </div>
            
            <div class="form-group">
                <label for="productPrice">
                    <i data-lucide="dollar-sign" width="14" height="14" style="display: inline; vertical-align: middle;"></i>
                    Price *
                </label>
                <input type="number" id="productPrice" required placeholder="0.00" step="0.01" min="0">
            </div>
            
            <div class="form-group">
                <label for="productDescription">
                    <i data-lucide="file-text" width="14" height="14" style="display: inline; vertical-align: middle;"></i>
                    Description
                </label>
                <textarea id="productDescription" placeholder="Enter product description (optional)"></textarea>
            </div>
            
            <div class="form-group">
                <label for="productImage">
                    <i data-lucide="image" width="14" height="14" style="display: inline; vertical-align: middle;"></i>
                    Product Image
                </label>
                <div class="file-input-wrapper">
                    <input type="file" id="productImage" accept="image/*">
                    <label for="productImage" class="file-input-label">
                        <i data-lucide="upload" width="16" height="16"></i>
                        <span>Click to upload image (optional)</span>
                    </label>
                </div>
                <div id="imageFileName" class="file-name"></div>
                <small>Max file size: 5MB. Supported formats: JPG, PNG, GIF</small>
            </div>
            
            <div class="form-loading" id="productLoading">
                <i data-lucide="loader-2" width="16" height="16" class="animate-spin"></i>
                Saving product...
            </div>
            
            <div class="form-actions">
                <button type="submit" class="btn btn-primary">
                    <i data-lucide="check" width="16" height="16"></i>
                    Save Product
                </button>
                <button type="button" class="btn btn-secondary" onclick="closeProductModal()">
                    <i data-lucide="x" width="16" height="16"></i>
                    Cancel
                </button>
            </div>
        </form>
    </div>
</div>
    <script>
        // Initialize Lucide icons
        lucide.createIcons();
        
        // Mobile menu toggle
        function toggleMobileMenu() {
            const sidebar = document.getElementById('sidebar');
            sidebar.classList.toggle('open');
        }
        
        // Close mobile menu when clicking outside
        document.addEventListener('click', function(event) {
            const sidebar = document.getElementById('sidebar');
            const toggle = document.querySelector('.mobile-menu-toggle');
            
            if (window.innerWidth <= 768 && sidebar.classList.contains('open')) {
                if (!sidebar.contains(event.target) && !toggle.contains(event.target)) {
                    sidebar.classList.remove('open');
                }
            }
        });
        
        // Re-initialize icons after dynamic content changes
        function refreshIcons() {
            lucide.createIcons();
        }
        
        // Example: Call this after loading categories or products
        // loadCategories().then(() => refreshIcons());
    </script>
    <script src="js/app.js"></script>
</body>
</html>